{% extends 'base.html' %}
{% block page %}
 <div class="container">
    <div class="row" style="padding:10px;">
        <div class="alert alert-info">
            <h4><strong>Beacons</strong></h4>
            <span><p>Set up and manage your beacons from this panel.</p><a class="btn btn-default" href="/addbeacon">Add a Beacon</a></span>
        </div>
    </div>
    {% if beacons %}
    <div> <!-- List of Beacons -->
    <div class="row">
        <div class="col-md-10" style="padding:10px;">
            {% for beacon in beacons %}
            <div class="thumbnail" style="padding:10px;"><!-- Single Beacon -->
                <div class="row">
                    <div class="col-md-12">
                        <h4><strong><a href="/beacons/{{beacon.beaconid}}">{{ beacon.nickname }}</a></strong></h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8">      
                        <p>
                            {{ beacon.description }}
                        </p>
                    </div>
                    <div class="col-md-4">
                        <div class="row col-md-12">
                            <p>Beacon Activity</p>
                        </div>
                        <div class="row col-md-12">
                            <div class="progress">
                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 20%;">
                                     <span class="sr-only">20% Complete</span>
                                </div>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
                                     <span class="sr-only">60% Complete</span>
                                </div>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
                                     <span class="sr-only">60% Complete</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-md-9">
                        <p>
                          <i class="icon-user"></i> Group(s): 
                          {% for group in beacon.groups %}
                            <a href="./groups/{{ group.id }}"><span class="label label-info"> {{ group.nickname }}</span></a>
                          {% endfor %}
                        </p>
                        <p>
                          <i class="icon-user"></i> Trigger(s): 
                          {% for trigger in beacon.triggers %}
                            <a href="./triggers/{{ trigger.id }}"><span class="label label-warning"> {{ trigger.nickname }}</span></a>
                          {% endfor %}
                        </p>
                    </div>
                    <div class="col-md-3"
                        <p>
                            <a class="btn btn-primary pull-right" href="./beacons/{{beacon.id}}">More Info</a>
                        </p>
                    </div>
                </div>
            </div><!-- End Single Beacon -->
            <hr>
            {% endfor %}
        </div>
      </div>
   </div> <!-- End List of Beacons -->
   {% else %}
   <div class="row">
        <div class="col-md-8">
            <h1>You currently have no beacons</h1>
        </div>
   </div>
   {% endif %}
   
</div> 
    <!-- /container -->
{% endblock %}
